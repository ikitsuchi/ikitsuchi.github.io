<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OSPP 2022 日记 | Magic Shop of Raspberry</title><meta name=keywords content="OSPP"><meta name=description content="OSPP 2022 过程记录"><meta name=author content="Ikitsu"><link rel=canonical href=https://ikitsu.moe/posts/ospp-2022/><link crossorigin=anonymous href=/assets/css/stylesheet.e91dc76a19b4fbc91ebb20b1067401911ff7f55cfd1e2ccaa2fa1c4095273c92.css integrity="sha256-6R3Hahm0+8keuyCxBnQBkR/39Vz9HizKovocQJUnPJI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ikitsu.moe/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ikitsu.moe/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ikitsu.moe/favicon-32x32.png><link rel=apple-touch-icon href=https://ikitsu.moe/apple-touch-icon.png><link rel=mask-icon href=https://ikitsu.moe/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="OSPP 2022 日记"><meta property="og:description" content="OSPP 2022 过程记录"><meta property="og:type" content="article"><meta property="og:url" content="https://ikitsu.moe/posts/ospp-2022/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-06T11:43:39+08:00"><meta property="article:modified_time" content="2022-07-06T11:43:39+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="OSPP 2022 日记"><meta name=twitter:description content="OSPP 2022 过程记录"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ikitsu.moe/posts/"},{"@type":"ListItem","position":2,"name":"OSPP 2022 日记","item":"https://ikitsu.moe/posts/ospp-2022/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"OSPP 2022 日记","name":"OSPP 2022 日记","description":"OSPP 2022 过程记录\n","keywords":["OSPP"],"articleBody":"OSPP 2022 过程记录\n7.3 (Day 0) 终于考完概率论了，可以不用再管加权了，可喜可贺。\n今天摸了，明天再开工。\n7.4 (Day 1) 早上起来赶火车，在火车上开始写了，复兴号还是很舒适的，信号也很稳定。\n先做了读取配置文件的模块，这部分上网搜了一些资料后决定直接用 serde 做反序列化，因为我懒得自己写读取配置文件了，字符串处理太麻烦了 owo。\n坐火车还是挺累的，随便写了点就休息了，打 FF14 去了（\n7.5 (Day 2) 今天开始做读取仓库的模块。先开始写从仓库的 url 下载仓库的数据，然后用结构体存起来的功能。http 请求找了 reqwest 这个库，xml 解析找了很久库，最后用了 quick-xml，因为首先它性能不错，其次它支持用 serde 反序列化，很方便（\nrepomd.xml 解析的很顺利，然而 primary.xml 解析却报错说 “attribute key must be directly followed by = or space”，看了一下 primary.xml，格式明明非常正确，怎么会是呢。\n然后看了眼 repomd.xml，直接下载的是 primary.xml.gz 不是 primary.xml，要先解压一下，这下谜底解开了！\n找了 flate2 这个库把 gz 解压出来，然后解析 primary.xml 又报错了，这次是 “missing field”。原来是 xml 里有几个节点层级看错了，导致结构体写错了，反序列化不出来。调了好久，我都想笑了：）\n晚上继续打 FF14 了，太美丽了艾欧泽亚！\n7.6 (Day 3) 今天接着昨天做把 .repo 文件读进来的工作。感觉 .repo 的这个格式应该是 ini，继续找库，最开始找了个 config-rs，这个库看起来非常强大，然而它文档写太垃圾了我看不懂不会用（这个事情告诉我们要好好写文档），于是就用了另一个叫 configparser 的库。\nurl 还有 baseurl mirrorlist metalink 三种，着实有点复杂了。我先写了 baseurl 的情况，然后写了下 yum 变量替换。这部分不太清楚写的对不对，我手头也没有用 rpm 包管理的发行版的机器，没法测试，至少编译能过，没有语法错误（笑）。明天找 mentor 借个机器测试一下。\n今天就写这么多，继续 FF14 了（\n7.7 (Day 4) 把从 yum.conf 读入 releasever 加上了，然后把跟 yum 变量相关的东西都拆到另一个模块里了。\n下午把从 mentor 手里借来的 VPS 和我的跳板机配了一下，把环境转移到 openEuler 了。话说最开始 VSCode Remote 不知道为啥连不上服务器，报的错是 “Failed to set up socket for dynamic port forward to remote port 43677: Socket closed. Is the remote port correct?\"，上网搜了下是要改 sshd_config，启用 TcpForwarding，然而我改了还是连不上。仔细思索，好像要改的是 server 不是 client，这下内啥了。我真是个笨蛋.jpg\n晚上摸鱼。\n7.8 (Day 5) 继续加轮子，这次是从文件夹里读所有的 .repo 文件，输出个 Repo vector。然后寄了，发现拼接 url 的时候忘了考虑末尾有没有反斜杠了，修了一下。然后发现之前 pacakge 结构体写丑了，小小重构一手。\n下午面试夏令营选手，感觉第二个带哥太牛比了，比我强了十万甚至九万倍，有点惭愧 QAQ，有被刺激到。要更加 push 自己了！111\n7.9 (Day 6) 看 Princeton 的讲 CDCL 的 Handbook。英语太难了 QAQ\n7.10 (Day 7) 肠胃炎犯了，痛苦一整天。无进度。\n7.11 (Day 8) 继续看 CDCL。学并行程序设计导论。PAC 快开始了，肯定是没法 allin OSPP。\n","wordCount":"179","inLanguage":"en","datePublished":"2022-07-06T11:43:39+08:00","dateModified":"2022-07-06T11:43:39+08:00","author":{"@type":"Person","name":"Ikitsu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ikitsu.moe/posts/ospp-2022/"},"publisher":{"@type":"Organization","name":"Magic Shop of Raspberry","logo":{"@type":"ImageObject","url":"https://ikitsu.moe/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ikitsu.moe/ accesskey=h title="Magic Shop of Raspberry (Alt + H)">Magic Shop of Raspberry</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ikitsu.moe/about/ title=About><span>About</span></a></li><li><a href=https://ikitsu.moe/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://ikitsu.moe/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://ikitsu.moe/friends/ title=Friends><span>Friends</span></a></li><li><a href=https://ikitsu.moe/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ikitsu.moe/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://ikitsu.moe/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ikitsu.moe/>Home</a>&nbsp;»&nbsp;<a href=https://ikitsu.moe/posts/>Posts</a></div><h1 class=post-title>OSPP 2022 日记</h1><div class=post-meta><span title='2022-07-06 11:43:39 +0800 +0800'>July 6, 2022</span>&nbsp;·&nbsp;Ikitsu</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#73-day-0 aria-label="7.3 (Day 0)">7.3 (Day 0)</a></li><li><a href=#74-day-1 aria-label="7.4 (Day 1)">7.4 (Day 1)</a></li><li><a href=#75-day-2 aria-label="7.5 (Day 2)">7.5 (Day 2)</a></li><li><a href=#76-day-3 aria-label="7.6 (Day 3)">7.6 (Day 3)</a></li><li><a href=#77-day-4 aria-label="7.7 (Day 4)">7.7 (Day 4)</a></li><li><a href=#78-day-5 aria-label="7.8 (Day 5)">7.8 (Day 5)</a></li><li><a href=#79-day-6 aria-label="7.9 (Day 6)">7.9 (Day 6)</a></li><li><a href=#710-day-7 aria-label="7.10 (Day 7)">7.10 (Day 7)</a></li><li><a href=#711-day-8 aria-label="7.11 (Day 8)">7.11 (Day 8)</a></li></ul></div></details></div><div class=post-content><p>OSPP 2022 过程记录</p><h2 id=73-day-0>7.3 (Day 0)<a hidden class=anchor aria-hidden=true href=#73-day-0>#</a></h2><p>终于考完概率论了，可以不用再管加权了，可喜可贺。</p><p>今天摸了，明天再开工。</p><h2 id=74-day-1>7.4 (Day 1)<a hidden class=anchor aria-hidden=true href=#74-day-1>#</a></h2><p>早上起来赶火车，在火车上开始写了，复兴号还是很舒适的，信号也很稳定。</p><p>先做了读取配置文件的模块，这部分上网搜了一些资料后决定直接用 serde 做反序列化，因为我懒得自己写读取配置文件了，字符串处理太麻烦了 owo。</p><p>坐火车还是挺累的，随便写了点就休息了，打 FF14 去了（</p><h2 id=75-day-2>7.5 (Day 2)<a hidden class=anchor aria-hidden=true href=#75-day-2>#</a></h2><p>今天开始做读取仓库的模块。先开始写从仓库的 url 下载仓库的数据，然后用结构体存起来的功能。http 请求找了 reqwest 这个库，xml 解析找了很久库，最后用了 quick-xml，因为首先它性能不错，其次它支持用 serde 反序列化，很方便（</p><p>repomd.xml 解析的很顺利，然而 primary.xml 解析却报错说 &ldquo;attribute key must be directly followed by = or space&rdquo;，看了一下 primary.xml，格式明明非常正确，怎么会是呢。</p><p>然后看了眼 repomd.xml，直接下载的是 primary.xml.gz 不是 primary.xml，要先解压一下，这下谜底解开了！</p><p><img loading=lazy src=/images/ospp-2022/day2.jpg alt=soudayo></p><p>找了 flate2 这个库把 gz 解压出来，然后解析 primary.xml 又报错了，这次是 &ldquo;missing field&rdquo;。原来是 xml 里有几个节点层级看错了，导致结构体写错了，反序列化不出来。调了好久，我都想笑了：）</p><p>晚上继续打 FF14 了，太美丽了艾欧泽亚！</p><h2 id=76-day-3>7.6 (Day 3)<a hidden class=anchor aria-hidden=true href=#76-day-3>#</a></h2><p>今天接着昨天做把 .repo 文件读进来的工作。感觉 .repo 的这个格式应该是 ini，继续找库，最开始找了个 config-rs，这个库看起来非常强大，然而它文档写太垃圾了我看不懂不会用（这个事情告诉我们要好好写文档），于是就用了另一个叫 configparser 的库。</p><p>url 还有 baseurl mirrorlist metalink 三种，着实有点复杂了。我先写了 baseurl 的情况，然后写了下 yum 变量替换。这部分不太清楚写的对不对，我手头也没有用 rpm 包管理的发行版的机器，没法测试，至少编译能过，没有语法错误（笑）。明天找 mentor 借个机器测试一下。</p><p>今天就写这么多，继续 FF14 了（</p><h2 id=77-day-4>7.7 (Day 4)<a hidden class=anchor aria-hidden=true href=#77-day-4>#</a></h2><p>把从 yum.conf 读入 releasever 加上了，然后把跟 yum 变量相关的东西都拆到另一个模块里了。</p><p>下午把从 mentor 手里借来的 VPS 和我的跳板机配了一下，把环境转移到 openEuler 了。话说最开始 VSCode Remote 不知道为啥连不上服务器，报的错是 &ldquo;Failed to set up socket for dynamic port forward to remote port 43677: Socket closed. Is the remote port correct?"，上网搜了下是要改 sshd_config，启用 TcpForwarding，然而我改了还是连不上。仔细思索，好像要改的是 server 不是 client，这下内啥了。我真是个笨蛋.jpg</p><p>晚上摸鱼。</p><h2 id=78-day-5>7.8 (Day 5)<a hidden class=anchor aria-hidden=true href=#78-day-5>#</a></h2><p>继续加轮子，这次是从文件夹里读所有的 .repo 文件，输出个 Repo vector。然后寄了，发现拼接 url 的时候忘了考虑末尾有没有反斜杠了，修了一下。然后发现之前 pacakge 结构体写丑了，小小重构一手。</p><p>下午面试夏令营选手，感觉第二个带哥太牛比了，比我强了十万甚至九万倍，有点惭愧 QAQ，有被刺激到。要更加 push 自己了！111</p><h2 id=79-day-6>7.9 (Day 6)<a hidden class=anchor aria-hidden=true href=#79-day-6>#</a></h2><p>看 Princeton 的讲 CDCL 的 Handbook。英语太难了 QAQ</p><h2 id=710-day-7>7.10 (Day 7)<a hidden class=anchor aria-hidden=true href=#710-day-7>#</a></h2><p>肠胃炎犯了，痛苦一整天。无进度。</p><h2 id=711-day-8>7.11 (Day 8)<a hidden class=anchor aria-hidden=true href=#711-day-8>#</a></h2><p>继续看 CDCL。学并行程序设计导论。PAC 快开始了，肯定是没法 allin OSPP。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ikitsu.moe/tags/ospp/>OSPP</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://ikitsu.moe/>Magic Shop of Raspberry</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>